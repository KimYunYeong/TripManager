<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
        <title>길찾기 결과 JSON</title>
    </head>
    <body>
        <p id="sample_data"></p>
        <script>
            var sx = 126.98503375053453;
            var sy = 37.566487291886936;
            var ex = 127.00020003318826;
            var ey = 37.558307529122324;

            function test(startx, starty, endx, endy) {
                //ODsay apiKey 입력
                var url = "https://api.odsay.com/v1/api/searchPubTransPath?SX=" + startx + "&SY=" + starty + "&EX=" + endx + "&EY=" + endy + "&apiKey=eeggkE1bO4hafaPrhL%2BROg";
                dataPane = document.getElementById("sample_data");

                fetch(url)
                    .then(res => res.json())
                    .then(resJson => {
                        dataPane.innerText = 'startx = ' + startx + '\nstarty = ' + starty + '\nendx = ' + endx + '\nendy = ' + endy + '\n' + JSON.stringify(resJson, null, 1);
                    })
            }
            test(sx, sy, ex, ey);
        </script>
    </body>
</html>
