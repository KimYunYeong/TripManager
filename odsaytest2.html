
<!--시작 지점에서 끝 지점까지의 대중교통 경로 JSON 출력 (테스트용)-->﻿
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
        <title>길찾기 결과 JSON</title>
    </head>
    <body>
        <p id="sample_data"></p>
        <script>
            // 부산 성모병원
            var sx = 129.10931110382123;
            var sy = 35.110455394312034;
            // 해운대 센텀 두산위브 아파트
            var ex = 129.1397666931156;
            var ey = 35.173831704236115;

            function test(startx, starty, endx, endy) {
                //ODsay apiKey 입력
                var url = "https://api.odsay.com/v1/api/searchPubTransPath?SX=" + startx + "&SY=" + starty + "&EX=" + endx + "&EY=" + endy + "&apiKey=eeggkE1bO4hafaPrhL%2BROg";
                dataPane = document.getElementById("sample_data");

                fetch(url)
                    .then(res => res.json())
                    .then(resJson => {
                        dataPane.innerText = 'startx = ' + startx + '\nstarty = ' + starty + '\nendx = ' + endx + '\nendy = ' + endy + '\n' + JSON.stringify(resJson, null, 1);
                    })
            }
            test(sx, sy, ex, ey);
        </script>
    </body>
</html>
